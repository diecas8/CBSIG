<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diagn√≥stico T√©cnico de Broca - Cenicaf√©</title>
    <style>
        :root {
            --color-alerta: #e74c3c;
            --color-exito: #2ecc71;
            --color-info: #3498db;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f4f7f6;
        }
        .container {
            max-width: 1200px;
            margin: auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        .grid-arboles {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        .arbol {
            background: #fff;
            border: 1px solid #e0e0e0;
            padding: 15px;
            border-radius: 8px;
            transition: transform 0.2s;
        }
        .arbol:hover {
            transform: translateY(-3px);
        }
        .parametro {
            margin: 12px 0;
        }
        .resumen-cenicafe {
            background: linear-gradient(45deg, #2c3e50, #34495e);
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin-top: 30px;
        }
        .dashboard {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        .dashboard-item {
            background: #f8f9fa;
            padding: 15px;
            border-left: 4px solid var(--color-info);
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 style="color: #2c3e50; text-align: center; margin-bottom: 30px;">
            üêû Sistema de Diagn√≥stico de Broca - Protocolos Cenicaf√©
        </h1>

        <!-- Secci√≥n de datos generales seg√∫n MIB -->
        <div class="resumen-cenicafe">
            <h2>Directrices Clave Cenicaf√© :cite[2]:cite[3]</h2>
            <ul>
                <li>Monitoreo semanal durante el per√≠odo cr√≠tico (8-32 semanas post-floraci√≥n)</li>
                <li>Umbral de acci√≥n: >5% de frutos infestados</li>
                <li>Integrar trampas con mezcla de alcoholes (metanol + etanol 3:1)</li>
                <li>Registro de temperatura y humedad relativa</li>
            </ul>
        </div>

        <!-- Dashboard de m√©tricas -->
        <div class="dashboard">
            <div class="dashboard-item">
                <h3>üå°Ô∏è Temperatura Actual</h3>
                <p id="temperatura-promedio">23¬∞C</p>
            </div>
            <div class="dashboard-item">
                <h3>üìä Infestaci√≥n Promedio</h3>
                <p id="infestacion-promedio">0%</p>
            </div>
            <div class="dashboard-item">
                <h3>‚ö†Ô∏è Alertas Activas</h3>
                <p id="alertas">0</p>
            </div>
        </div>

        <form id="formDiagnostico">
            <div class="grid-arboles">
                <!-- √Årbol 1 a 30 (ejemplo 1 √°rbol) -->
                <div class="arbol">
                    <h3>√Årbol 1</h3>
                    <div class="parametro">
                        <label>üìÖ Fecha de floraci√≥n:</label>
                        <input type="date" name="fecha_floracion" required 
                               title="Registre seg√∫n cronograma Cenicaf√© :cite[3]">
                    </div>
                    <div class="parametro">
                        <label>üîç Frutos infestados (%):</label>
                        <input type="number" min="0" max="100" name="infestacion" 
                               class="nivel-infestacion" 
                               data-umbral="5">
                        <div class="leyenda">
                            <span style="color: var(--color-exito)">‚â§5%: Normal</span>
                            <span style="color: var(--color-alerta)">>5%: Acci√≥n</span>
                        </div>
                    </div>
                    <div class="parametro">
                        <label>ü™§ Brocas en trampas (24h):</label>
                        <input type="number" min="0" name="trampas_count" 
                               title="Conteo en trampas artesanales :cite[2]">
                    </div>
                </div>
                <!-- Repetir para √°rboles 2-30 -->
            </div>
        </form>

        <!-- Panel de recomendaciones t√©cnicas -->
        <div class="resumen-cenicafe" style="margin-top: 30px;">
            <h2>üìã Protocolos de Acci√≥n Cenicaf√©</h2>
            <div id="recomendaciones">
                <p>‚óæ <strong>Control biol√≥gico:</strong> Aplicar <em>Beauveria bassiana</em> cuando >5% de infestaci√≥n :cite[3]</p>
                <p>‚óæ <strong>Manejo cultural:</strong> Recolecci√≥n inmediata de frutos ca√≠dos :cite[1]</p>
                <p>‚óæ <strong>Trampeo masivo:</strong> Instalar 20 trampas/ha con alcohol met√≠lico :cite[2]</p>
            </div>
        </div>
    </div>

    <script>
        // L√≥gica para c√°lculo autom√°tico de m√©tricas
        document.addEventListener('input', function(e) {
            if(e.target.classList.contains('nivel-infestacion')) {
                const valor = parseInt(e.target.value);
                if(valor > 5) {
                    e.target.style.borderColor = 'var(--color-alerta)';
                } else {
                    e.target.style.borderColor = '#ccc';
                }
            }
            // Actualizar dashboard (ejemplo simplificado)
            document.getElementById('infestacion-promedio').textContent = 
                calcularPromedioInfestacion() + '%';
        });

        function calcularPromedioInfestacion() {
            // Implementar c√°lculo real con datos de los 30 √°rboles
            return 4.7; 
        }
    </script>
</body>
</html>
